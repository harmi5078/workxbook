<!DOCTYPE html>
<html class="blueeee">
<head>
<meta charset="utf-8">
<title>历史王朝列表</title>  
<link href="../bootstrap/5.1.1/bootstrap.min.css" rel="stylesheet">
<script src="../bootstrap/5.1.1/bootstrap.bundle.min.js"></script>  
  
<script src="../js/vue.global.js"></script>
<script src="../js/axios.min.js"></script>
<link href="css_book.css" rel="stylesheet"> 
<link href="../txwk/css_txworks.css" rel="stylesheet"> 
<script src="js_book.js"></script>

</head>
<body>
<div id = "app"   > 
<div class="tx_topLev2" style="width: 91%;" > </div>  
 <div class="bk_oneframe" style="background-color: aliceblue;">   
	 <div class="bk_onerow" style="position: fixed;width: 89.5%;background-color: aliceblue;border-left: 2 solid rgb(0, 0, 0) ;;">  
		<div   class="tb_header" style="margin-top:20px ;" >	 
				 历史王朝列表
		</div>
		 
	
		<div class="tx_onerow tx_rowcellboder" 
		style="font-weight: bold;width: 100%;border: var(--cell-boder );"  @onmousedown="clearEdit()">
				<div style="width: 5%;padding-left:8px;"  >编号</div >	 
				<div style="width: 10%;padding-left:8px;" class="tb_cellboder_left ">
					<input type="text"  @change="reloadData()" v-model="fdynName" 
					class="tx_acekTitleLabel" placeholder="朝代名称"  ></div >	 	
				<div style="width: 10%;padding-left:8px;" class="tb_cellboder_left">开始时间</div >
				
				<div style="width: 10%;padding-left:8px;" class="tb_cellboder_left">终止时间</div >		
				<div style="width: 15%;padding-left:8px;" class="tb_cellboder_left">创始人</div >	 
				<div style="width: 45%;padding-left:8px;" class="tb_cellboder_left">
					<input type="text"  @change="reloadData()" v-model="fpostFunctions" 
					class="tx_acekTitleLabel" placeholder="描述"  > </div >  
		</div> 
	</div >
	
	<div style="margin-top: 87px;"  >  
		<div class="tx_onerow  tx_rowcellboder tx_tab_row"   v-for="(item,index) in dynastys" > 
				<div style="width: 5%;padding-left:8px;"  @click="toShowDetail(item)" data-bs-toggle="modal"  data-bs-target="#myModal" >{{index+1}}</div >	 
				<div style="width: 10%;padding-left:8px;" @click="toShowDetail(item)" data-bs-toggle="modal"  data-bs-target="#myModal" class="tb_cellboder_left " >{{item.name}}</div >	 	
				<div style="width: 10%;padding-left:8px;" class="tb_cellboder_left">{{item.bgTime}}</div >	
				<div style="width: 10%;padding-left:8px;" class="tb_cellboder_left">{{item.endTime}}</div >
				<div style="width: 15%;padding-left:8px;" class="tb_cellboder_left">{{item.creator}}</div >  
				<div style="width: 45%;padding-left:8px;" 
				class="tb_cellboder_left"   ></div >
		</div>  
		<div class="tx_onerow  tx_rowcellboder tx_tab_row"   > 
				<div style="width: 5%;padding-left:8px;"  > &emsp;</div >	  
		</div>  
		 
	</div> 
		
	
   
</div>


<!-- 模态框 -->
<div class="modal" id="myModal">
  <div class="modal-dialog modal-lg">
    <div class="modal-content"> 
      <!-- 模态框头部 -->
      <div class="tx_modal_header"> 
		  <h4 class="modal-title">朝代信息 -- {{dynastyName}}</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal"> </button>
        
      </div>
       
      <!-- 模态框内容 -->
      <div class="modal-body">
        <div class="container mt-3">
 	
			<form  class="needs-validation">
				 
				 <div class="tx_onerow "   >
				<div style="width: 13%; "  ><span class="tb_input_label">官职名称</span></div >	 
				<div style="width: 85%; "  ><span class="tb_input_value">{{postName}}</span> </div >	 
		</div> 
		<div class="tx_onerow "   >
				<div style="width: 13%; "  ><span class="tb_input_label">官职级别</span></div >	 
				<div style="width: 85%; "  ><span class="tb_input_value">{{postLevel}}</span> </div >	 
		</div> 
		<div class="tx_onerow "   >
				<div style="width: 13%; "  ><span class="tb_input_label">官职名称</span></div >	 
				<div style="width: 85%; "  ><span class="tb_input_value">{{postFunctions}}</span> </div >	 
		</div> 
			  
				<!-- 模态框底部 -->
			  	<div class="modal-footer">
					<button type="button" class="btn btn-danger" data-bs-dismiss="modal">关闭</button> 
			  </div>				
			</form>
		</div>
      </div>
    </div>
  </div>
</div> 

<div class="fixed-btn"> 
	
<a  class="fixed-btn-a" href="index.html"> 
<svg xmlns="img/index.svg" width="25" height="25" fill="currentColor"   viewBox="0 0 16 16">
  <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5Z"/>
  <path d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6Z"/>
</svg>
</a>


<a  class="fixed-btn-a"  href="pers.html"  target="_blank"> 
<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor"   viewBox="0 0 16 16">
  <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
</svg>
</a>
<a  class="fixed-btn-a"  href="govpost.html"  target="_blank"> 
<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"  fill="currentColor"   viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"/>
  <path d="M8.256 14a4.474 4.474 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10c.26 0 .507.009.74.025.226-.341.496-.65.804-.918C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4s1 1 1 1h5.256Z"/>
  <path fill-rule="evenodd" d="M11.886 9.46c.18-.613 1.048-.613 1.229 0l.043.148a.64.64 0 0 0 .921.382l.136-.074c.561-.306 1.175.308.87.869l-.075.136a.64.64 0 0 0 .382.92l.149.045c.612.18.612 1.048 0 1.229l-.15.043a.64.64 0 0 0-.38.921l.074.136c.305.561-.309 1.175-.87.87l-.136-.075a.64.64 0 0 0-.92.382l-.045.149c-.18.612-1.048.612-1.229 0l-.043-.15a.64.64 0 0 0-.921-.38l-.136.074c-.561.305-1.175-.309-.87-.87l.075-.136a.64.64 0 0 0-.382-.92l-.148-.045c-.613-.18-.613-1.048 0-1.229l.148-.043a.64.64 0 0 0 .382-.921l-.074-.136c-.306-.561.308-1.175.869-.87l.136.075a.64.64 0 0 0 .92-.382l.045-.148ZM14 12.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"/>
</svg>
</a>
 

<a  class="fixed-btn-a"  href="search.html"  target="_blank"> 
   <svg xmlns="img/search.svg" width="25" height="25" fill="currentColor"   viewBox="0 0 16 16">
  <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
</svg>
</a>
    
    
</div> 

</div> 
 
<script>


  
const app = {
	data() {
		return {
			 dynastys:[],  
			 dynastyName:'' 
		}
	}, 
	mounted () {
		 	  
		this.reloadData()
	} ,
	methods: { 
		reloadData()
		{  
			const params  = {
				bgTime:-1000,
				endTime:2000,
			}
			 
			axios.get('/selectDynasty' ,{params:params } )
			  .then(response => {
				  this.dynastys = response.data.reObject  
				})
			  .catch(function (error) {  
				 showErrTips("朝代信息：" + error) 
			});
	                    
		}  ,
	   cutContent(content,n)
		{
			lenn = content.length  
			if(lenn<n)
			{
				return content
			}  
			
			tipHtml  = "<span   title=\" " + content + "\">" + content.substring(0,n-5) + "...</span>"
			 
			return   tipHtml
		},
		
		toShowDetail(item)
		{
			this.postLevel = item.postLevel + "-" + item.levelDetails
			this.postName = item.govemmentPost 
			this.postFunctions = item.postDetails
		}
		
	}
	 
}
 
vm = Vue.createApp(app).mount('#app')
 
</script>
 
</body>
</html>